Capitalizing on the disarray surrounding the succession struggles after Ranjit Singh 's death and only partially diminished by a war fought against the Sikhs on their eastern frontier , the British rode into Lahore in February 1846 and garrisoned their troops in the citadel .