[ 25 ] Nicholas Trist , chief clerk of the State Department under President Polk , finally negotiated a treaty with the Mexican delegation after ignoring his recall by President Polk in frustration with failure to secure a treaty .