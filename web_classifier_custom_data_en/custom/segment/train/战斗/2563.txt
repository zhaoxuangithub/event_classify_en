Anarchists who had fought in the Russian Civil War at first against the anti-Bolshevik White Army now also fought the Red Army , Ukrainian People 's Army , and the German and Austrian forces who fought under the Treaty of Brest-Litovsk .