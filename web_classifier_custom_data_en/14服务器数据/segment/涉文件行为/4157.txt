The three Leeward Islands kingdoms were ensured independence by the Jarnac Convention , a joint agreement signed between France and Great Britain in 1847 .