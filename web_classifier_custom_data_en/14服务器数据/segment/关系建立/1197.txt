[ 2]In 1834 , Spain recognized the independence of Brazil and both nations established diplomatic relations .